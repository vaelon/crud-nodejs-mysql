const a27_0x110f19=a27_0x20d7;(function(_0x3b4e60,_0x1f4fe5){const _0x5b036e=a27_0x20d7,_0x2d7862=_0x3b4e60();while(!![]){try{const _0x357251=parseInt(_0x5b036e(0x214))/0x1*(parseInt(_0x5b036e(0x1f3))/0x2)+parseInt(_0x5b036e(0x1f0))/0x3*(parseInt(_0x5b036e(0x1e8))/0x4)+-parseInt(_0x5b036e(0x1e4))/0x5+parseInt(_0x5b036e(0x1fa))/0x6+-parseInt(_0x5b036e(0x210))/0x7*(parseInt(_0x5b036e(0x1ee))/0x8)+parseInt(_0x5b036e(0x213))/0x9+-parseInt(_0x5b036e(0x1f7))/0xa;if(_0x357251===_0x1f4fe5)break;else _0x2d7862['push'](_0x2d7862['shift']());}catch(_0x40ec7d){_0x2d7862['push'](_0x2d7862['shift']());}}}(a27_0x3887,0xaade9));function a27_0x20d7(_0xe1b72e,_0x1229f2){const _0x5e7117=a27_0x3887();return a27_0x20d7=function(_0x38c269,_0x1b9089){_0x38c269=_0x38c269-0x1e1;let _0x388782=_0x5e7117[_0x38c269];return _0x388782;},a27_0x20d7(_0xe1b72e,_0x1229f2);}const a27_0x1b9089=(function(){let _0xb641b7=!![];return function(_0x1846b0,_0x5aba75){const _0x1e20e6=_0xb641b7?function(){const _0x352084=a27_0x20d7;if(_0x5aba75){const _0x5a365e=_0x5aba75[_0x352084(0x200)](_0x1846b0,arguments);return _0x5aba75=null,_0x5a365e;}}:function(){};return _0xb641b7=![],_0x1e20e6;};}()),a27_0x38c269=a27_0x1b9089(this,function(){const _0xeddd2a=a27_0x20d7;return a27_0x38c269['toString']()[_0xeddd2a(0x1ea)](_0xeddd2a(0x20a))[_0xeddd2a(0x1e1)]()[_0xeddd2a(0x208)](a27_0x38c269)[_0xeddd2a(0x1ea)](_0xeddd2a(0x20a));});a27_0x38c269();'use strict';Object[a27_0x110f19(0x1e7)](exports,a27_0x110f19(0x205),{'value':!![]}),exports['QuotaManager']=void 0x0;const leaky_bucket_1=require(a27_0x110f19(0x1f8)),utils_1=require(a27_0x110f19(0x1fe)),NANOSECONDS_CONVERSION=0x3b9aca00,CONDITION_COST_CAPACITY_FACTOR=0x1,DYNAMIC_LOGS_CPU_CAPACITY_FACTOR=0.1,DYNAMIC_LOGS_CAPACITY_FACTOR=0x2,DYNAMIC_LOGS_BYTES_CAPACITY_FACTOR=0x2;class QuotaManager{constructor(_0x2ce396,_0x5dad45){const _0x1477cf=a27_0x110f19;this['ignoreQuota']=_0x5dad45['quota']['ignoreQuota'],this[_0x1477cf(0x1e6)]={},this[_0x1477cf(0x207)]={},this[_0x1477cf(0x20b)]=_0x5dad45[_0x1477cf(0x206)][_0x1477cf(0x20b)],this[_0x1477cf(0x1ec)]=_0x5dad45[_0x1477cf(0x206)][_0x1477cf(0x1ec)],this[_0x1477cf(0x1ed)]=_0x5dad45['quota']['maxCPUCost'],this[_0x1477cf(0x1eb)]=_0x5dad45[_0x1477cf(0x206)][_0x1477cf(0x1eb)],this[_0x1477cf(0x1f5)]=new leaky_bucket_1[(_0x1477cf(0x20e))](this[_0x1477cf(0x20b)]*DYNAMIC_LOGS_CAPACITY_FACTOR,this[_0x1477cf(0x20b)]),this[_0x1477cf(0x1f6)]=new leaky_bucket_1[(_0x1477cf(0x20e))](this[_0x1477cf(0x1ef)](!![])*CONDITION_COST_CAPACITY_FACTOR,this[_0x1477cf(0x1ef)](!![])),this[_0x1477cf(0x20d)]=new leaky_bucket_1[(_0x1477cf(0x20e))](this[_0x1477cf(0x1eb)]*DYNAMIC_LOGS_BYTES_CAPACITY_FACTOR,this[_0x1477cf(0x1eb)]),this[_0x1477cf(0x211)]=new leaky_bucket_1[(_0x1477cf(0x20e))](this['getBaseConditionQuotaCapacity'](![])*DYNAMIC_LOGS_CPU_CAPACITY_FACTOR,this[_0x1477cf(0x1ef)](![])),this[_0x1477cf(0x1e9)]={},this[_0x1477cf(0x20c)]=_0x2ce396,this['ignoreQuotaForBreakpoint']={};}[a27_0x110f19(0x1e2)](_0x4e61ea,_0x45ce89){this['ignoreQuotaForBreakpoint'][_0x4e61ea]=_0x45ce89;}[a27_0x110f19(0x20f)](_0x12a679){const _0x1697dc=a27_0x110f19;return this['ignoreQuotaForBreakpoint'][_0x12a679]||this[_0x1697dc(0x209)];}[a27_0x110f19(0x1ef)](_0x5432d3){const _0x28c7f2=a27_0x110f19,_0x246fb9=_0x5432d3?this[_0x28c7f2(0x1ec)]:this[_0x28c7f2(0x1ed)];return _0x246fb9*NANOSECONDS_CONVERSION;}['createPerBreakpointConditionQuota'](_0x5b03e0){const _0x14160f=a27_0x110f19;return this[_0x14160f(0x1e6)][_0x5b03e0]=new leaky_bucket_1[(_0x14160f(0x20e))](this[_0x14160f(0x1ef)](!![])/0x2,this[_0x14160f(0x1ec)]*NANOSECONDS_CONVERSION/0x2);}['removePerBreakpointQuota'](_0x2c55b2){const _0x35c722=a27_0x110f19;delete this['perBreakpointQuota'][_0x2c55b2],delete this[_0x35c722(0x1e9)][_0x2c55b2];}['applyDynamicLogsCPUQuota'](_0x28f39a,_0x282b13){const _0x225ac6=a27_0x110f19;this[_0x225ac6(0x20f)](_0x28f39a)&&(this[_0x225ac6(0x1e9)][_0x28f39a]=!![]),this['perBreakpointCPUQuota'][_0x28f39a]=this[_0x225ac6(0x211)][_0x225ac6(0x1e3)](_0x282b13);}[a27_0x110f19(0x1ff)](_0x3eb43f,_0x2f0ffb){const _0x2bd69d=a27_0x110f19;if(this['shouldIgnoreQuota'](_0x3eb43f))return!![];return this[_0x2bd69d(0x1f5)][_0x2bd69d(0x1e3)](0x1)&&this[_0x2bd69d(0x20d)][_0x2bd69d(0x1e3)](_0x2f0ffb);}[a27_0x110f19(0x1fd)](_0x1236ca,_0xb33a45){const _0x248e23=a27_0x110f19;if(this['shouldIgnoreQuota'](_0xb33a45['id']))return undefined;if(!this[_0x248e23(0x1f6)][_0x248e23(0x1e3)](_0x1236ca))return this[_0x248e23(0x20c)]['info'](_0x248e23(0x1f1)+_0xb33a45['id']),utils_1[_0x248e23(0x202)][_0x248e23(0x203)];!(_0xb33a45['id']in this[_0x248e23(0x1e6)])&&this[_0x248e23(0x1fb)](_0xb33a45['id']);if(!this[_0x248e23(0x1e6)][_0xb33a45['id']][_0x248e23(0x1e3)](_0x1236ca))return this[_0x248e23(0x20c)][_0x248e23(0x1fc)](_0x248e23(0x1f9)+('breakpoint\x20ID:\x20'+_0xb33a45['id']+'\x20Requested\x20Tokens:\x20'+_0x1236ca)),utils_1['errors'][_0x248e23(0x203)];return undefined;}[a27_0x110f19(0x204)](_0x39f6fa){const _0x5b46c0=a27_0x110f19;if(_0x39f6fa in this[_0x5b46c0(0x207)])return this['breakpointQuotaRecovery'][_0x39f6fa];return![];}['recovered'](_0x39dadc){const _0x4f4e32=a27_0x110f19;this['breakpointQuotaRecovery'][_0x39dadc]=![],this[_0x4f4e32(0x1e9)][_0x39dadc]=!![];}[a27_0x110f19(0x212)](_0x2f1ab4,_0x5a8ff0){const _0x544aa3=a27_0x110f19,_0x168a2c=Buffer[_0x544aa3(0x215)](_0x2f1ab4,_0x544aa3(0x1f4));let _0xb0dcc7=utils_1['errors']['DYNAMIC_LOG_OUT_OF_QUOTA'][_0x544aa3(0x1f2)];if(this['breakpointQuotaRecovery'][_0x5a8ff0])return undefined;if(this['shouldIgnoreQuota'](_0x5a8ff0)||this['applyDynamicLogQuota'](_0x5a8ff0,_0x168a2c)&&this[_0x544aa3(0x1e9)][_0x5a8ff0])return{'isOutOfQuota':![],'message':_0x2f1ab4};else!this[_0x544aa3(0x1e9)][_0x5a8ff0]&&(_0xb0dcc7=utils_1['errors'][_0x544aa3(0x1e5)]['description']);return this[_0x544aa3(0x207)][_0x5a8ff0]=!![],{'isOutOfQuota':!![],'message':_0xb0dcc7};}}exports[a27_0x110f19(0x201)]=QuotaManager;function a27_0x3887(){const _0x5b15ed=['./leaky-bucket','Cost\x20of\x20condition\x20evaluations\x20exceeded\x20per-breakpoint\x20limit,\x20','4855842lGTUbv','createPerBreakpointConditionQuota','info','applyConditionQuota','./util/utils','applyDynamicLogQuota','apply','QuotaManager','errors','ERROR_CONDITION_BREAKPOINT_QUOTA_EXCEEDED','needsRecoveryTime','__esModule','quota','breakpointQuotaRecovery','constructor','ignoreQuota','(((.+)+)+)+$','maxDynamicLogRate','logger','globalDynamicLogBytesQuota','LeakyBucket','shouldIgnoreQuota','4333xyPmxc','globalDynamicLogCPULimiter','quotaCheck','4741911IvBhti','2cdKrTX','byteLength','toString','setIgnoreQuota','requestTokens','2040285oBaoml','DYNAMIC_LOG_OUT_OF_CPU_QUOTA','perBreakpointQuota','defineProperty','4rdmzIX','perBreakpointCPUQuota','search','maxDynamicLogByteRate','maxConditionCost','maxCPUCost','776PgewHL','getBaseConditionQuotaCapacity','1823295bBdREv','Cost\x20of\x20condition\x20evaluations\x20exceeded\x20global\x20limit,\x20breakpoint\x20ID:\x20','description','839122gmTGyT','utf8','globalDynamicLogQuota','globalConditionQuota','16150920NchZEp'];a27_0x3887=function(){return _0x5b15ed;};return a27_0x3887();}